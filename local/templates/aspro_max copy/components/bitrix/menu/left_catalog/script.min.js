$(document).ready(function(){$(".sidebar_menu .sidebar_menu_inner .menu-wrapper").mCustomScrollbar({mouseWheel:{scrollAmount:150,preventDefault:!0}}),$(".sidebar_menu .sidebar_menu_inner .menu-wrapper .menu_top_block .menu > li.v_hover > .dropdown-block").mCustomScrollbarDeferred({mouseWheel:{scrollAmount:150,preventDefault:!0}}),$(document).on("mouseenter",".menu-wrapper .menu_top_block .menu > li.v_hover",function(){var o=$(this),s=o.find("> .dropdown-block"),i=$(window).height();s.css("max-height","none"),s.find(".mCustomScrollBox").css("max-height","none");var e=BX.pos(s[0],!0);e.height?o.hasClass("m_line")&&(i-e.top<100&&i<e.bottom?(s.removeAttr("style"),e=BX.pos(o.find(".dropdown-block")[0],!0),s.css("margin-top","-"+(e.bottom-i)+"px"),e=BX.pos(o.find(".dropdown-block")[0],!0)):s.css("margin-top","-"+parseInt(o.height())+"px")):s.css("max-height","none"),s.velocity("stop").velocity({opacity:"1",display:"block"},{duration:170,delay:200,begin:function(){var o=$("#headerfixed.fixed"),e=0,t=Number.parseInt(s.css("margin-top"));o.length&&(e=o[0].getBoundingClientRect().height);var n=s[0].getBoundingClientRect();n.y<e&&s.css("top",-n.y+e-t),(n=s[0].getBoundingClientRect()).bottom>i&&(s.css("bottom","0"),n.height>i-e&&s.css("top",e-t))},complete:function(){$("body").addClass("menu-hovered"),$(".shadow-block").length||$('<div class="shadow-block"></div>').appendTo($("body")),$(".shadow-block").velocity("stop").velocity("fadeIn",200)}}),o.one("mouseleave",function(){s.velocity("stop").velocity({opacity:"0"},{duration:100,delay:10,complete:function(){s.css("top",""),s.css("bottom",""),$(".shadow-block").velocity("stop").velocity("transition.fadeOut",{duration:200,complete:function(){$("body").removeClass("menu-hovered")}})}})})})});