var funcDefined=function(func){try{return"function"==typeof func||"function"==typeof window[func]}catch(e){return!1}};CheckTopMenuDotted=function(){var menu=$("nav.mega-menu.sliced");if(!window.matchMedia("(max-width:991px)").matches)return menu.length&&menu.each((function(){if($(this).hasClass("initied"))return!1;var menuMoreItem=$(this).find("td.js-dropdown");if("none"==$(this).parents(".collapse").css("display"))return!1;var block=$(this).closest("div")[0],block_w=$(this).closest("div")[0].getBoundingClientRect().width,items=$(this).find("tr>.menu-item"),menu_w=0,menuTable=$(this).find("table");menuTable.css("width","auto"),items.each((function(i,el){menu_w+=el.getBoundingClientRect().width}));for(var afterHide=!1;menu_w>block_w&&(menuItemOldSave=$(this).find("td").not(".nosave").last(),menuItemOldSave.length);){menuMoreItem.show();var oldClass=menuItemOldSave.attr("class");menuItemNewSave='<li class="menu-item '+(menuItemOldSave.hasClass("dropdown")?"dropdown-submenu ":"")+(menuItemOldSave.hasClass("active")?"active ":"")+'" data-hidewidth="'+menu_w+'" '+(oldClass?'data-class="'+oldClass+'"':"")+">"+menuItemOldSave.find(".wrap").html()+"</li>",menuItemOldSave.remove(),menuMoreItem.find("> .wrap > .dropdown-menu").prepend(menuItemNewSave),menu_w=0,items.each((function(i,el){menu_w+=el.getBoundingClientRect().width})),block_w=block.getBoundingClientRect().width,afterHide=!0}if(!afterHide)do{var menuItemOldSaveCnt=menuMoreItem.find(".dropdown-menu").find("li").length,hideWidth;if(menuItemOldSave=menuMoreItem.find(".dropdown-menu").find("li").first(),!menuItemOldSave.length){menuMoreItem.hide();break}if(menuItemOldSave.attr("data-hidewidth")>block_w)break;var oldClass=menuItemOldSave.attr("data-class");if(menuItemNewSave='<td class="'+(oldClass?oldClass+" ":"")+'" data-hidewidth="'+block_w+'"><div class="wrap">'+menuItemOldSave.html()+"</div></td>",menuItemOldSave.remove(),$(menuItemNewSave).insertBefore($(this).find("td.js-dropdown")),!menuItemOldSaveCnt){menuMoreItem.hide();break}menu_w=0,items.each((function(i,el){menu_w+=el.getBoundingClientRect().width}))}while(menu_w<=block_w);$(this).find("td").css("visibility","visible"),$(this).find("td").removeClass("unvisible"),$(this).addClass("ovisible"),$(this).addClass("initied"),menuTable.css("width","")})),!1},funcDefined("InitTopestMenuGummi")||(InitTopestMenuGummi=function(){if(!window.isOnceInited){function _init(){var arItems=$menuTopest.find(">li:not(.more)"),cntItems=arItems.length;if(cntItems)for(var itemsWidth=0,i=0;i<cntItems;++i){var item=arItems.eq(i);if(item[0].getBoundingClientRect().width){var itemWidth=item[0].getBoundingClientRect().width+parseInt(item.css("margin-left"));arItemsHideWidth[i]=(itemsWidth+=itemWidth)+(i!==cntItems-1?moreWidth:0)}}}function _gummi(){if(!window.matchMedia("(max-width:991px)").matches){var $parent=$menuTopest.parent(),bInFlex="flex"===$parent.css("display"),block=$parent.closest(".header__top-item"),useFlex1=block.hasClass("dotted-flex-1");if(useFlex1&&block.addClass("flex1"),bInFlex){for(var siblingsWidth=0,$siblings=$menuTopest.siblings().filter("div"),i=0,cnt=$siblings.length;i<cnt;++i)siblingsWidth+=$siblings.eq(i)[0].getBoundingClientRect().width;var parentWidth,rowWidth=$parent[0].getBoundingClientRect().width-siblingsWidth}else var marginMenuSumm=parseInt(block.css("margin-left"))+parseInt(block.css("margin-right")),rowWidth=$menuTopest[0].getBoundingClientRect().width-(moreWidth+marginMenuSumm);var arItems=$menuTopest.find(">li:not(.more),li.more>.dropdown>li"),cntItems=arItems.length;if(cntItems){for(var bMore=!1,i=cntItems-1;i>=0;--i){var item,bInMore,clone;if(!(bInMore=(item=arItems.eq(i)).parents(".more").length>0))if(arItemsHideWidth[i]>rowWidth)bMore||(bMore=!0,more.removeClass("hidden")),(clone=item.clone()).find(">a").addClass("dark_font"),clone.prependTo(moreDropdown),item.addClass("hidden cloned"),rowWidth=$menuTopest[0].getBoundingClientRect().width-moreWidth}for(var i=0;i<cntItems;++i){var item,bInMore,clone;if(bInMore=(item=arItems.eq(i)).parents(".more").length>0)if(arItemsHideWidth[i]<=rowWidth)i===cntItems-1&&(bMore=!1,more.addClass("hidden")),(clone=item.clone()).find(">a").removeClass("dark_font"),clone.insertBefore(more),item.addClass("cloned")}$menuTopest.find("li.cloned").remove()}useFlex1&&block.removeClass("flex1")}}var $menuTopest=$(".menu.topest");if($menuTopest.length)try{var more=$menuTopest.find(">.more"),moreDropdown=more.find(">.dropdown"),moreWidth=more[0].getBoundingClientRect().width+parseInt(more.css("margin-left")),arItemsHideWidth=[];ignoreResize.push(!0),_init(),_gummi(),ignoreResize.pop(),BX.addCustomEvent("onWindowResize",(function(eventdata){try{ignoreResize.push(!0),_init(),_gummi(),$menuTopest.addClass("initied"),$menuTopest.parent().addClass("initied")}catch(e){}finally{ignoreResize.pop()}}))}catch(e){}}}),funcDefined("InitTopMenuGummi")||(InitTopMenuGummi=function(){function _init(){var arItems=$topMenu.closest(".wrap_menu").find(".inc_menu .menu_top_block >li:not(.more)"),cntItems=arItems.length;if(cntItems)for(var itemsWidth=0,i=0;i<cntItems;++i){var item,itemWidth=arItems.eq(i).actual("outerWidth");arItemsHideWidth[i]=(itemsWidth+=itemWidth)+(i!==cntItems-1?moreWidth:0)}}function _gummi(){var rowWidth=$wrapMenu.actual("innerWidth")-$wrapMenuLeft.actual("innerWidth"),arItems=$topMenu.find(">li:not(.more):not(.catalog),li.more>.dropdown>li"),cntItems=arItems.length;if(cntItems){for(var bMore=!1,i=cntItems-1;i>=0;--i){var item,bInMore,clone;if(!(bInMore=(item=arItems.eq(i)).parents(".more").length>0))if(arItemsHideWidth[i]>rowWidth)bMore||(bMore=!0,more.removeClass("hidden")),(clone=item.clone()).find(">.dropdown").removeAttr("style").removeClass("toleft"),clone.find(">a").addClass("dark_font").removeAttr("style"),clone.prependTo(moreDropdown),item.addClass("cloned")}for(var i=0;i<cntItems;++i){var item,bInMore,clone;if(bInMore=(item=arItems.eq(i)).parents(".more").length>0)if(arItemsHideWidth[i]<=rowWidth)i===cntItems-1&&(bMore=!1,more.addClass("hidden")),(clone=item.clone()).find(">a").removeClass("dark_font"),clone.insertBefore(more),item.addClass("cloned")}$topMenu.find("li.cloned").remove();var cntItemsVisible=$topMenu.find(">li:not(.more):not(.catalog)").length,o=rowWidth-arItemsHideWidth[cntItemsVisible-1],itemsPaddingAdd=Math.floor(o/(cntItemsVisible+(more.hasClass("hidden")?0:1))),itemsPadding_new=itemsPadding_min+itemsPaddingAdd,itemsPadding_new_l=Math.floor(itemsPadding_new/2),itemsPadding_new_r=itemsPadding_new-itemsPadding_new_l;$topMenu.find(">li:not(.catalog):visible>a").each((function(){$(this).css({"padding-left":itemsPadding_new_l+"px"}),$(this).css({"padding-right":itemsPadding_new_r+"px"})}));var lastItemPadding_new=itemsPadding_new+o-(cntItemsVisible+(more.is(":visible")?1:0))*itemsPaddingAdd,lastItemPadding_new_l=Math.floor(lastItemPadding_new/2),lastItemPadding_new_r=lastItemPadding_new-lastItemPadding_new_l;$topMenu.find(">li:visible").last().find(">a").css({"padding-left":lastItemPadding_new_l+"px"}),$topMenu.find(">li:visible").last().find(">a").css({"padding-right":lastItemPadding_new_r+"px"})}CheckTopMenuFullCatalogSubmenu()}var $topMenu=$(".menu_top_block");if($menuTopest.length){var $wrapMenu=$topMenu.parents(".wrap_menu"),$wrapMenuLeft=$wrapMenu.find(".catalog_menu_ext"),more=$topMenu.find(">.more"),moreWidth=more.actual("outerWidth",{includeMargin:!0});more.addClass("hidden");var arItemsHideWidth=[],moreDropdown=more.find(">.dropdown"),itemsPadding,itemsPadding_min=2*parseInt(more.find(">a").css("padding-left"));setTimeout((function(){ignoreResize.push(!0),_init(),_gummi(),ignoreResize.pop()}),5e3),BX.addCustomEvent("onWindowResize",(function(eventdata){try{ignoreResize.push(!0),_gummi()}catch(e){}finally{ignoreResize.pop()}}))}});